"use strict";(self.webpackChunkcompras=self.webpackChunkcompras||[]).push([[311],{5311:(ee,M,r)=>{r.r(M),r.d(M,{AuthModule:()=>W});var g=r(9808),d=r(3075),_=r(7423),R=r(7531),f=r(9776),m=r(7429),e=r(5e3),P=r(508),p=r(7579),N=r(5698),O=r(2722),u=r(1777),j=r(925),C=r(5113),y=r(5664);function F(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().action()}),e._uU(2),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(2),e.Oqu(t.data.action)}}function U(s,o){}const A=new e.OlP("MatSnackBarData");class v{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const L=Math.pow(2,31)-1;class k{constructor(o,t){this._overlayRef=t,this._afterDismissed=new p.x,this._afterOpened=new p.x,this._onAction=new p.x,this._dismissedByAction=!1,this.containerInstance=o,o._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(o){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(o,L))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let E=(()=>{class s{constructor(t,n){this.snackBarRef=t,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(k),e.Y36(A))},s.\u0275cmp=e.Xpm({type:s,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e.YNc(2,F,3,1,"div",1)),2&t&&(e.xp6(1),e.Oqu(n.data.message),e.xp6(1),e.Q6J("ngIf",n.hasAction))},directives:[_.lW,g.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),s})();const x={snackBarState:(0,u.X$)("state",[(0,u.SB)("void, hidden",(0,u.oB)({transform:"scale(0.8)",opacity:0})),(0,u.SB)("visible",(0,u.oB)({transform:"scale(1)",opacity:1})),(0,u.eR)("* => visible",(0,u.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,u.eR)("* => void, * => hidden",(0,u.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,u.oB)({opacity:0})))])};let D=(()=>{class s extends m.en{constructor(t,n,a,i,c){super(),this._ngZone=t,this._elementRef=n,this._changeDetectorRef=a,this._platform=i,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new p.x,this._onExit=new p.x,this._onEnter=new p.x,this._animationState="void",this.attachDomPortal=l=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(l)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:n,toState:a}=t;if(("void"===a&&"void"!==n||"hidden"===a)&&this._completeExit(),"visible"===a){const i=this._onEnter;this._ngZone.run(()=>{i.next(),i.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,N.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(a=>t.classList.add(a)):t.classList.add(n)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&n){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(a=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),null==a||a.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(j.t4),e.Y36(v))},s.\u0275cmp=e.Xpm({type:s,selectors:[["snack-bar-container"]],viewQuery:function(t,n){if(1&t&&e.Gf(m.Pl,7),2&t){let a;e.iGM(a=e.CRH())&&(n._portalOutlet=a.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,n){1&t&&e.WFA("@state.done",function(i){return n.onAnimationEnd(i)}),2&t&&e.d8E("@state",n._animationState)},features:[e.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,U,0,0,"ng-template",1),e.qZA(),e._UZ(2,"div")),2&t&&(e.xp6(2),e.uIk("aria-live",n._live)("role",n._role))},directives:[m.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[x.snackBarState]}}),s})(),Z=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[f.U8,m.eL,g.ez,_.ot,P.BQ],P.BQ]}),s})();const S=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function z(){return new v}});let q=(()=>{class s{constructor(t,n,a,i,c,l){this._overlay=t,this._live=n,this._injector=a,this._breakpointObserver=i,this._parentSnackBar=c,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",a){const i=Object.assign(Object.assign({},this._defaultConfig),a);return i.data={message:t,action:n},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){const i=e.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:v,useValue:n}]}),c=new m.C5(this.snackBarContainerComponent,n.viewContainerRef,i),l=t.attach(c);return l.instance.snackBarConfig=n,l.instance}_attach(t,n){const a=Object.assign(Object.assign(Object.assign({},new v),this._defaultConfig),n),i=this._createOverlay(a),c=this._attachSnackBarContainer(i,a),l=new k(c,i);if(t instanceof e.Rgc){const h=new m.UE(t,null,{$implicit:a.data,snackBarRef:l});l.instance=c.attachTemplatePortal(h)}else{const h=this._createInjector(a,l),$=new m.C5(t,void 0,h),K=c.attachComponentPortal($);l.instance=K.instance}return this._breakpointObserver.observe(C.u3.HandsetPortrait).pipe((0,O.R)(i.detachments())).subscribe(h=>{i.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),a.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(l,a),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration))}_createOverlay(t){const n=new f.X_;n.direction=t.direction;let a=this._overlay.position().global();const i="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,l=!c&&"center"!==t.horizontalPosition;return c?a.left("0"):l?a.right("0"):a.centerHorizontally(),"top"===t.verticalPosition?a.top("0"):a.bottom("0"),n.positionStrategy=a,this._overlay.create(n)}_createInjector(t,n){return e.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:k,useValue:n},{provide:A,useValue:t.data}]})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(f.aV),e.LFG(y.Kd),e.LFG(e.zs3),e.LFG(C.Yg),e.LFG(s,12),e.LFG(S))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),w=(()=>{class s extends q{constructor(t,n,a,i,c,l){super(t,n,a,i,c,l),this.simpleSnackBarComponent=E,this.snackBarContainerComponent=D,this.handsetCssClass="mat-snack-bar-handset"}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(f.aV),e.LFG(y.Kd),e.LFG(e.zs3),e.LFG(C.Yg),e.LFG(s,12),e.LFG(S))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:Z}),s})();var I=r(4594);let J=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[_.ot,R.c,Z,I.g0]}),s})();var b=r(1083);function Y(s,o){if(1&s&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.Tol(t.msg[1]),e.xp6(1),e.hij(" ",t.msg[2],"\n")}}let T=(()=>{class s{constructor(t){this.msg=t}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(A))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-alerta"]],decls:3,vars:5,consts:[[3,"class",4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"h3"),e._uU(1),e.qZA(),e.YNc(2,Y,2,4,"p",0)),2&t&&(e.Tol(n.msg[1]),e.xp6(1),e.hij(" ",n.msg[0],"\n"),e.xp6(1),e.Q6J("ngIf",n.msg[2]))},directives:[g.O5],styles:[".verde[_ngcontent-%COMP%]{background-color:#1db198;color:#faebd7}.rojo[_ngcontent-%COMP%]{background-color:#e14444;color:#faebd7}.rojo1[_ngcontent-%COMP%]{background-color:#98002e;color:#faebd7}.azul[_ngcontent-%COMP%]{background-color:#0f325e;color:#faebd7}.info[_ngcontent-%COMP%]{background-color:#1d80b1;color:#faebd7}.verdeT[_ngcontent-%COMP%]{color:#1db198}.rojoT[_ngcontent-%COMP%]{color:#e14444}.infoT[_ngcontent-%COMP%]{color:#1d80b1}"]}),s})();var G=r(520);let Q=(()=>{class s{constructor(t){this.http=t,this.baseUrl="http://localhost:5000",this.token=""}set setToken(t){this.token=t}get getToken(){return this.token}login(t){return this.http.post(`${this.baseUrl}/api/login`,t)}cambiaPass(t){return this.http.put(`${this.baseUrl}/api/login`,t)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(G.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),X=(()=>{class s{constructor(t,n,a){this.loginService=t,this._snackBar=n,this._router=a,this.usuario={s_claveEmpleado:"",s_psw:""},this.token="",this.ctrUser="",this.ctrPass="",this.msjUser="",this.msjPass=""}ngOnInit(){}login(){if(this.ctrPass="",this.ctrUser="",this.msjPass="",this.msjUser="",!this.usuario.s_claveEmpleado||!this.usuario.s_psw)return this.usuario.s_claveEmpleado||(this.ctrUser="is-invalid",this.msjUser="Falta la clave de empleado"),void(this.usuario.s_psw||(this.ctrPass="is-invalid",this.msjPass="Falta la contrase\xf1a"));console.log(this.usuario),this.loginService.login(this.usuario).subscribe(t=>{console.log(t),"true"===t.success?(this.loginService.setToken=t.token,this.alerta([t.mensaje,"verdeT"]),this._router.navigate(["/compras/solicitudes"])):"Credenciales incorrectas"===t.mensaje?this.alerta([t.mensaje,"rojoT"]):(this.alerta([t.mensaje,"rojoT"]),this.usuario.s_claveEmpleado="",this.usuario.s_psw="")},t=>{this.alerta(["Error del servidor...","rojoT","Intentelo m\xe1s tarde o llame a servicios..."]),this.usuario.s_psw=""})}obtenerToken(){let t=this.loginService.getToken;this.notificaciones(t),console.log(t),console.log(t.split(";")[0].split("="))}notificaciones(t){this._snackBar.open(t,"Cerrar",{horizontalPosition:"end",verticalPosition:"top"})}alerta(t){this._snackBar.openFromComponent(T,{duration:3e3,horizontalPosition:"end",verticalPosition:"top",data:t,panelClass:"azul"})}limpiar(t=0){1==t?this.ctrUser="":this.ctrPass=""}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(Q),e.Y36(w),e.Y36(b.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-login"]],decls:42,vars:12,consts:[[1,"container","text-center","shadow","mt-5"],[1,"row"],[1,"col-sm-8","mt-5"],["src","assets/img/call_center.png","alt","",1,"img-fluid","rounded"],["src","assets/img/mc_logo.png","alt","",1,"img-fluid","mb-3",2,"width","50%"],[1,"col-sm-4","clM","rounded-end"],[1,"mb-3","mt-5"],["src","assets/img/mc_mini.png","alt","",1,"img-fluid",2,"width","50%"],[1,"mb-3"],[1,"text-light","text-decoration-underline","fw-bold"],["src","assets/img/user.png","alt","",1,"border","border-2","rounded-circle",2,"width","25%"],["autocomplete","off",3,"ngSubmit"],["form","ngForm"],["for","empleado",1,"form-label","text-light"],["type","text","name","s_claveEmpleado","id","empleado","aria-describedby","ctrlUser",3,"ngModel","value","ngModelChange","focus"],["id","ctrlUser",1,"invalid-feedback"],["for","pass",1,"form-label","text-light"],["type","password","name","s_psw","id","pass","aria-describedby","ctrlPass",3,"ngModel","value","ngModelChange","focus"],["id","ctrlPass",1,"invalid-feedback"],[1,"mb-5"],["type","submit",1,"btn","btn-outline-light","form-control","mb-3"],[1,"mt-3"],["mat-raised-button","","color","primary",1,"",3,"click"],["mat-raised-button","","color","accent",1,"ms-1",3,"click"],["mat-raised-button","","color","warn",1,"ms-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3)(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"h2",9)(10,"strong"),e._uU(11,"Compras"),e.qZA()()(),e.TgZ(12,"div",8),e._UZ(13,"img",10),e.qZA(),e.TgZ(14,"form",11,12),e.NdJ("ngSubmit",function(){return n.login()}),e.TgZ(16,"div",8)(17,"label",13)(18,"strong"),e._uU(19,"Clave de empleado"),e.qZA()(),e.TgZ(20,"input",14),e.NdJ("ngModelChange",function(i){return n.usuario.s_claveEmpleado=i})("focus",function(){return n.ctrUser?n.limpiar(1):""}),e.qZA(),e.TgZ(21,"div",15),e._uU(22),e.qZA()(),e.TgZ(23,"div",8)(24,"label",16)(25,"strong"),e._uU(26,"Contrase\xf1a"),e.qZA()(),e.TgZ(27,"input",17),e.NdJ("ngModelChange",function(i){return n.usuario.s_psw=i})("focus",function(){return n.ctrPass?n.limpiar():""}),e.qZA(),e.TgZ(28,"div",18),e._uU(29),e.qZA()(),e.TgZ(30,"div",19)(31,"button",20),e._uU(32,"Login"),e.qZA()()()()()(),e.TgZ(33,"div",21)(34,"button",22),e.NdJ("click",function(){return n.obtenerToken()}),e._uU(35,"Ver Token"),e.qZA(),e.TgZ(36,"button",23),e.NdJ("click",function(){return n.alerta(["hola","verdeT"])}),e._uU(37,"Ver alerta"),e.qZA(),e.TgZ(38,"button",24),e._uU(39,"prueba"),e.qZA(),e.TgZ(40,"button",24),e._uU(41,"prueba"),e.qZA()()),2&t&&(e.xp6(20),e.Gre("form-control ",n.ctrUser,""),e.Q6J("ngModel",n.usuario.s_claveEmpleado)("value",n.usuario.s_claveEmpleado),e.xp6(2),e.hij(" ",n.msjUser," "),e.xp6(5),e.Gre("form-control ",n.ctrPass,""),e.Q6J("ngModel",n.usuario.s_psw)("value",n.usuario.s_psw),e.xp6(2),e.hij(" ",n.msjPass," "))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,_.lW],styles:[".clM[_ngcontent-%COMP%]{background:linear-gradient(#002e5f,rgba(0,46,95,.9))}.verde[_ngcontent-%COMP%]{background-color:#1db198;color:#faebd7}.rojo[_ngcontent-%COMP%]{background-color:#e14444;color:#faebd7}.rojo1[_ngcontent-%COMP%]{background-color:#98002e;color:#faebd7}.azul[_ngcontent-%COMP%]{background-color:#0f325e!important;color:#faebd7!important}.info[_ngcontent-%COMP%]{background-color:#1d80b1;color:#faebd7}.verdeT[_ngcontent-%COMP%]{color:#1db198}.rojoT[_ngcontent-%COMP%]{color:#e14444}.infoT[_ngcontent-%COMP%]{color:#1d80b1}"]}),s})(),B=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-cond-pass"]],decls:12,vars:0,consts:[[1,"mb-1","text-light","text-start"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2,"Elije una nueva contrase\xf1a que cumpla con las siguientes caracter\xedsticas:"),e.qZA(),e.TgZ(3,"ol")(4,"li"),e._uU(5,"Debe de contener al menos 8 caracteres."),e.qZA(),e.TgZ(6,"li"),e._uU(7,"Debe de contener al menos una may\xfascula."),e.qZA(),e.TgZ(8,"li"),e._uU(9,"Debe de contener al menos una min\xfascula."),e.qZA(),e.TgZ(10,"li"),e._uU(11,'Debe de contener al menos un car\xe1ter especial ! " # $ % & / () <> : ; . * + , ? '),e.qZA()()())},styles:[""]}),s})();const H=[{path:"",children:[{path:"iniciar",component:X},{path:"reestablecer",component:(()=>{class s{constructor(t,n){this._snack=t,this._router=n,this.usuario={s_claveEmpleado:"",s_psw:"",s_passwordAntigua:"",s_passwordNueva:"",s_rnew_psw:""},this.ctrPassA="",this.ctrPassN="",this.ctrPassRN="",this.msgPassA="",this.msgPassN="",this.msgPassRN="",this.regMm=/^(?=.*?[A-Z])(?=.*?[a-z])/,this.regNum=/^(?=.*?[0-9])/,this.regCE=/^(?=.*?[!"#$%&/\(\)<>:;-?\xbf+\xa1.,*])/}ngOnInit(){this._snack.openFromComponent(B,{horizontalPosition:"start",verticalPosition:"bottom"})}reestablecer(){return this.ctrPassA="",this.ctrPassN="",this.ctrPassRN="",this.usuario.s_passwordAntigua&&this.usuario.s_passwordNueva&&this.usuario.s_rnew_psw?this.usuario.s_passwordNueva.length<8?(this.ctrPassN="is-invalid",void this.llamarAlerta("La contrase\xf1a debe de tener al menos 8 caracteres","rojoT")):this.regMm.test(this.usuario.s_passwordNueva)?this.regNum.test(this.usuario.s_passwordNueva)?this.regCE.test(this.usuario.s_passwordNueva)?this.usuario.s_passwordNueva!=this.usuario.s_rnew_psw?(this.ctrPassN="is-invalid",this.ctrPassRN="is-invalid",this.msgPassN="",this.msgPassRN="",void this.llamarAlerta("Las contrase\xf1as no coinciden","rojoT")):void(this.usuario.s_passwordAntigua!==this.usuario.s_passwordNueva?(console.log(this.usuario),this._snack.dismiss(),this._snack.openFromComponent(T,{data:["Se actualiz\xf3 la contrase\xf1a","verdeT"],horizontalPosition:"center",verticalPosition:"top",duration:3e3}),this._router.navigate(["/login/iniciar"])):this.llamarAlerta("La contrase\xf1a nueva debe de ser distinta de la anterior","rojoT")):(this.ctrPassN="is-invalid",void this.llamarAlerta("La contrase\xf1a debe de contener caracteres especiales","rojoT")):(this.ctrPassN="is-invalid",void this.llamarAlerta("La contrase\xf1a al menos debe de contener un n\xfamero","rojoT")):(this.ctrPassN="is-invalid",void this.llamarAlerta("La contrase\xf1a debe de contener una mayuscula o nin\xfascula","rojoT")):(this.usuario.s_passwordAntigua||(this.ctrPassA="is-invalid",this.msgPassA="Ingresa tu contrase\xf1a actual"),this.usuario.s_passwordNueva||(this.ctrPassN="is-invalid",this.msgPassN="Ingresa una nueva contrase\xf1a"),void(this.usuario.s_rnew_psw||(this.ctrPassRN="is-invalid",this.msgPassRN="Repite tu contrase\xf1a")))}llamarAlerta(t,n){this._snack.openFromComponent(T,{data:[t,n],horizontalPosition:"end",verticalPosition:"top",duration:3e3}).afterDismissed().subscribe(()=>{this._snack.openFromComponent(B,{horizontalPosition:"start",verticalPosition:"bottom"})})}limpiar(t){console.log("limpiar"),1==t&&(this.ctrPassA="",this.msgPassA=""),2==t&&(this.ctrPassN="",this.msgPassN=""),3==t&&(this.ctrPassRN="",this.ctrPassRN="")}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(w),e.Y36(b.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-reestablecer"]],decls:46,vars:20,consts:[[1,"container","text-center","shadow","mt-5"],[1,"row"],[1,"col-sm-8","mt-5"],["src","assets/img/call_center.png","alt","",1,"img-fluid","rounded"],["src","assets/img/mc_logo.png","alt","",1,"img-fluid","mb-3",2,"width","50%"],[1,"col-sm-4","clM","rounded-end"],[1,"mb-3","mt-2"],["src","assets/img/mc_mini.png","alt","",1,"img-fluid",2,"width","50%"],[1,"mb-2"],[1,"text-light","text-decoration-underline","fw-bold"],["src","assets/img/user.png","alt","",1,"border","border-2","rounded-circle",2,"width","25%"],["autocomplete","off",3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],[1,"text-light","text-decoration-underline"],[1,"mb-3","visually-hidden"],["for","empleado",1,"form-label","text-light"],["type","text","name","s_claveEmpleado","id","empleado","aria-describedby","ctrlUser",1,"form-control",3,"ngModel","value","ngModelChange"],["id","ctrlUser",1,"invalid-feedback"],["for","pass",1,"form-label","text-light"],["type","password","name","s_psw","id","pass","aria-describedby","ctrlPass",3,"ngModel","value","ngModelChange","focus"],["id","ctrlPass",1,"invalid-feedback"],["for","Npass",1,"form-label","text-light"],["type","password","name","s_passwordNueva","id","Npass","aria-describedby","ctrlNpass",3,"ngModel","value","ngModelChange","focus"],["id","ctrlNpass",1,"invalid-feedback"],["for","RNpass",1,"form-label","text-light"],["type","password","name","s_rnew_psw","id","RNpass","aria-describedby","ctrlRNpass",3,"ngModel","value","ngModelChange","focus"],["id","ctrlRNpass",1,"invalid-feedback"],[1,"mb-5"],["type","submit",1,"btn","btn-outline-light","form-control","mb-3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3)(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"h2",9)(10,"strong"),e._uU(11,"Compras"),e.qZA()()(),e.TgZ(12,"div",8),e._UZ(13,"img",10),e.qZA(),e.TgZ(14,"form",11,12),e.NdJ("ngSubmit",function(){return n.reestablecer()}),e.TgZ(16,"div",13)(17,"h3",14),e._uU(18,"Cambio de contrase\xf1a"),e.qZA()(),e.TgZ(19,"div",15)(20,"label",16)(21,"strong"),e._uU(22,"Clave de empleado"),e.qZA()(),e.TgZ(23,"input",17),e.NdJ("ngModelChange",function(i){return n.usuario.s_claveEmpleado=i}),e.qZA(),e._UZ(24,"div",18),e.qZA(),e.TgZ(25,"div",13)(26,"label",19),e._uU(27,"Contrase\xf1a anterior"),e.qZA(),e.TgZ(28,"input",20),e.NdJ("ngModelChange",function(i){return n.usuario.s_passwordAntigua=i})("focus",function(){return n.ctrPassA?n.limpiar(1):""}),e.qZA(),e.TgZ(29,"div",21),e._uU(30),e.qZA()(),e.TgZ(31,"div",13)(32,"label",22),e._uU(33,"Nueva contrase\xf1a"),e.qZA(),e.TgZ(34,"input",23),e.NdJ("ngModelChange",function(i){return n.usuario.s_passwordNueva=i})("focus",function(){return n.ctrPassN?n.limpiar(2):""}),e.qZA(),e.TgZ(35,"div",24),e._uU(36),e.qZA()(),e.TgZ(37,"div",13)(38,"label",25),e._uU(39,"Repetir nueva contrase\xf1a"),e.qZA(),e.TgZ(40,"input",26),e.NdJ("ngModelChange",function(i){return n.usuario.s_rnew_psw=i})("focus",function(){return n.ctrPassRN?n.limpiar(3):""}),e.qZA(),e.TgZ(41,"div",27),e._uU(42),e.qZA()(),e.TgZ(43,"div",28)(44,"button",29),e._uU(45,"Cambiar contrase\xf1a"),e.qZA()()()()()()),2&t&&(e.xp6(23),e.Q6J("ngModel",n.usuario.s_claveEmpleado)("value",n.usuario.s_claveEmpleado),e.xp6(5),e.Gre("form-control ",n.ctrPassA,""),e.Q6J("ngModel",n.usuario.s_passwordAntigua)("value",n.usuario.s_psw),e.xp6(2),e.hij(" ",n.msgPassA," "),e.xp6(4),e.Gre("form-control ",n.ctrPassN,""),e.Q6J("ngModel",n.usuario.s_passwordNueva)("value",n.usuario.s_passwordNueva),e.xp6(2),e.hij(" ",n.msgPassN," "),e.xp6(4),e.Gre("form-control ",n.ctrPassRN,""),e.Q6J("ngModel",n.usuario.s_rnew_psw)("value",n.usuario.s_rnew_psw),e.xp6(2),e.hij(" ",n.msgPassRN," "))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On],styles:[".clM[_ngcontent-%COMP%]{background:linear-gradient(#002e5f,rgba(0,46,95,.9))}.verde[_ngcontent-%COMP%]{background-color:#1db198;color:#faebd7}.rojo[_ngcontent-%COMP%]{background-color:#e14444;color:#faebd7}.rojo1[_ngcontent-%COMP%]{background-color:#98002e;color:#faebd7}.azul[_ngcontent-%COMP%]{background-color:#0f325e!important;color:#faebd7!important}.info[_ngcontent-%COMP%]{background-color:#1d80b1;color:#faebd7}.verdeT[_ngcontent-%COMP%]{color:#1db198}.rojoT[_ngcontent-%COMP%]{color:#e14444}.infoT[_ngcontent-%COMP%]{color:#1d80b1}"]}),s})()},{path:"**",redirectTo:"iniciar"}]}];let V=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[b.Bz.forChild(H)],b.Bz]}),s})(),W=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[g.ez,d.u5,V,J]]}),s})()}}]);